import{d as z,r as _,f as F,y as U,c as M,b as o,j as a,e as N,m as r,F as S,z as V,h as b,a as c,l as g,o as E}from"./index-8HLPoPAF.js";import{u as D}from"./Box-C-NYVDCp.js";import{_ as I,b as P,m as T}from"./trs3d.vue_vue_type_script_setup_true_lang-3dZdX1Z0.js";import{e as j}from"./trs3d.vue_vue_type_style_index_0_lang-D7gnPIi1.js";const J={class:"dialog",style:{position:"relative",display:"flex","flex-direction":"row"}},O={class:"td-container",style:{"flex-direction":"column","max-width":"90%","max-height":"90%",width:"500px",height:"500px",position:"relative"}},R={class:"form-container"},q={class:"dialog-footer"},Q=z({__name:"boxstorehouse",setup(A){const u=D(),v=_(!1),f=_(!1),x=_(-1),y=_("新增货物"),l=F({name:"默认模块",lx:1,ly:1,lz:1,mass:1});U(l,(s,e)=>{const{lx:n,ly:i,lz:p,mass:m}=s;if(v.value=[n,i,p,m].every(d=>typeof d=="number"),v.value){const d={main_containers:[],module_containers:[new T([n,i,p],[0,0,0],void 0,void 0,void 0,void 0,"center")],boxes:[new P([n,i,p],[0,0,0],m,"#FFFFE0",!0,.5,!1,"center")]};j.emit("update-showParams",d)}},{immediate:!0}),u.$subscribe((s,e)=>{localStorage.setItem("Box_list",JSON.stringify(e.Box_list))});const h=s=>{g({message:`货物 ${u.Box_list[s].name}信息删除成功`}),u.Box_list.splice(s,1)},w=s=>{if(x.value=s,s!==-1){y.value="修改货物信息";const e=u.Box_list[s];l.name=e.name,l.lx=e.lx,l.ly=e.ly,l.lz=e.lz,l.mass=e.mass}else y.value="新增货物信息",l.name="默认货物",l.lx=1,l.ly=1,l.lz=1,l.mass=1;f.value=!0},B=()=>{x.value!==-1?(u.Box_list[x.value]={...l},g({message:`货物 ${l.name} 信息修改成功`})):u.add_Box({...l}),f.value=!1};return(s,e)=>{const n=r("el-table-column"),i=r("el-button"),p=r("el-table"),m=r("el-input"),d=r("el-form-item"),C=r("el-form"),$=r("el-dialog");return E(),M(S,null,[o(p,{data:N(u).Box_list,style:{width:"100%"},height:"95%"},{default:a(()=>[o(n,{prop:"name",label:"货物名称",width:"auto"}),o(n,{prop:"lx",label:"长",width:"auto"}),o(n,{prop:"ly",label:"宽",width:"auto"}),o(n,{prop:"lz",label:"高",width:"auto"}),o(n,{prop:"mass",label:"质量",width:"auto"}),o(n,{fixed:"right",label:"操作",width:"auto"},{default:a(t=>[o(i,{type:"primary",class:"fa-regular fa-pen",onClick:V(k=>w(t.$index),["prevent"]),circle:""},null,8,["onClick"]),o(i,{type:"danger",class:"fa-solid fa-trash",onClick:V(k=>h(t.$index),["prevent"]),circle:""},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),o(i,{class:"mt-4",style:{width:"100%"},onClick:e[0]||(e[0]=t=>w(-1))},{default:a(()=>e[8]||(e[8]=[b(" 新增货物 ")])),_:1}),o($,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=t=>f.value=t),width:"90%"},{default:a(()=>[c("div",J,[c("div",O,[o(I)]),c("div",R,[o(C,{model:l},{default:a(()=>[o(d,{label:"货物名称",style:{width:"auto"}},{default:a(()=>[o(m,{modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,{label:"长"},{default:a(()=>[o(m,{modelValue:l.lx,"onUpdate:modelValue":e[2]||(e[2]=t=>l.lx=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,{label:"宽",style:{width:"80%"}},{default:a(()=>[o(m,{modelValue:l.ly,"onUpdate:modelValue":e[3]||(e[3]=t=>l.ly=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,{label:"高",style:{width:"80%"}},{default:a(()=>[o(m,{modelValue:l.lz,"onUpdate:modelValue":e[4]||(e[4]=t=>l.lz=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,{label:"质量",style:{width:"80%"}},{default:a(()=>[o(m,{modelValue:l.mass,"onUpdate:modelValue":e[5]||(e[5]=t=>l.mass=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),c("div",q,[o(i,{onClick:e[6]||(e[6]=t=>f.value=!1)},{default:a(()=>e[9]||(e[9]=[b("取消")])),_:1}),o(i,{type:"primary",onClick:B},{default:a(()=>e[10]||(e[10]=[b("确定")])),_:1})])])])]),_:1},8,["modelValue"])],64)}}});export{Q as default};
