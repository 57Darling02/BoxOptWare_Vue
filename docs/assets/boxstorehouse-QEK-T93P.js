import{d as M,r as p,f as U,y as N,c as E,b as t,j as s,e as S,m as d,F as T,z as D,A as B,h as b,a as _,l as h,o as I}from"./index-D6QYwPHy.js";import{u as O}from"./Box-8CMxLC-q.js";import{b as j,m as A,_ as G}from"./tres3d.vue_vue_type_script_setup_true_lang-CsEOyfGQ.js";import{e as v}from"./tres3d.vue_vue_type_style_index_0_lang-CTMRHt9u.js";const J={class:"dialog",style:{position:"relative",display:"flex","flex-direction":"row"}},P={class:"td-container",style:{"flex-direction":"column","max-width":"90%","max-height":"90%",width:"500px",height:"500px",position:"relative"}},R={class:"form-container"},q={class:"dialog-footer"},X=M({__name:"boxstorehouse",setup(H){const i=O(),y=p(!1),u=p(!1),c=p(-1),w=p("新增货物"),l=U({name:"默认模块",lx:1,ly:1,lz:1,mass:1}),V=()=>{const{lx:a,ly:e,lz:n,mass:m}=l;y.value=[a,e,n,m].every(x=>typeof x=="number"),y.value&&(v.emit("showBoxes",[new j([a,e,n],[0,0,0],0,"#FFFFE0",!0,.5,!1,"center")]),v.emit("centerOfGravityPosition",[0,0,0]),v.emit("showModules",[new A([a,e,n],[0,0,0],"#FFFFE0",!0,0,!1,"center")]))};N(l,(a,e)=>{V()},{immediate:!0}),i.$subscribe((a,e)=>{localStorage.setItem("Box_list",JSON.stringify(e.Box_list))});const F=a=>{h({message:`货物 ${i.Box_list[a].name}信息删除成功`}),i.Box_list.splice(a,1)},g=a=>{if(c.value=a,a!==-1){w.value="修改货物信息";const e=i.Box_list[a];l.name=e.name,l.lx=e.lx,l.ly=e.ly,l.lz=e.lz,l.mass=e.mass}else w.value="新增货物信息",l.name="默认货物",l.lx=1,l.ly=1,l.lz=1,l.mass=1;u.value=!0,D(()=>{setTimeout(()=>{V()},100)})},k=()=>{c.value!==-1?(i.Box_list[c.value]={...l},h({message:`货物 ${l.name} 信息修改成功`})):i.add_Box({...l}),u.value=!1};return(a,e)=>{const n=d("el-table-column"),m=d("el-button"),x=d("el-table"),r=d("el-input"),f=d("el-form-item"),C=d("el-form"),$=d("el-dialog");return I(),E(T,null,[t(x,{data:S(i).Box_list,style:{width:"100%"},height:"95%"},{default:s(()=>[t(n,{prop:"name",label:"货物名称",width:"auto"}),t(n,{prop:"lx",label:"长",width:"auto"}),t(n,{prop:"ly",label:"宽",width:"auto"}),t(n,{prop:"lz",label:"高",width:"auto"}),t(n,{prop:"mass",label:"质量",width:"auto"}),t(n,{fixed:"right",label:"操作",width:"auto"},{default:s(o=>[t(m,{type:"primary",class:"fa-regular fa-pen",onClick:B(z=>g(o.$index),["prevent"]),circle:""},null,8,["onClick"]),t(m,{type:"danger",class:"fa-solid fa-trash",onClick:B(z=>F(o.$index),["prevent"]),circle:""},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),t(m,{class:"mt-4",style:{width:"100%"},onClick:e[0]||(e[0]=o=>g(-1))},{default:s(()=>e[8]||(e[8]=[b(" 新增货物 ")])),_:1}),t($,{modelValue:u.value,"onUpdate:modelValue":e[7]||(e[7]=o=>u.value=o),width:"90%"},{default:s(()=>[_("div",J,[_("div",P,[t(G)]),_("div",R,[t(C,{model:l},{default:s(()=>[t(f,{label:"货物名称",style:{width:"auto"}},{default:s(()=>[t(r,{modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.name=o),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(f,{label:"长"},{default:s(()=>[t(r,{modelValue:l.lx,"onUpdate:modelValue":e[2]||(e[2]=o=>l.lx=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(f,{label:"宽",style:{width:"80%"}},{default:s(()=>[t(r,{modelValue:l.ly,"onUpdate:modelValue":e[3]||(e[3]=o=>l.ly=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(f,{label:"高",style:{width:"80%"}},{default:s(()=>[t(r,{modelValue:l.lz,"onUpdate:modelValue":e[4]||(e[4]=o=>l.lz=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(f,{label:"质量",style:{width:"80%"}},{default:s(()=>[t(r,{modelValue:l.mass,"onUpdate:modelValue":e[5]||(e[5]=o=>l.mass=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),_("div",q,[t(m,{onClick:e[6]||(e[6]=o=>u.value=!1)},{default:s(()=>e[9]||(e[9]=[b("取消")])),_:1}),t(m,{type:"primary",onClick:k},{default:s(()=>e[10]||(e[10]=[b("确定")])),_:1})])])])]),_:1},8,["modelValue"])],64)}}});export{X as default};
