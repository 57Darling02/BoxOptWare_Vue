import{d as N,r as m,f as O,y as S,c as E,b as o,j as a,e as G,m as f,F as D,z as h,h as x,a as _,l as C,o as I}from"./index-BlqbEepj.js";import{u as T}from"./Box-D_V-zui9.js";import{_ as j}from"./tres3dprop.vue_vue_type_style_index_0_lang-C8tVGt0e.js";import{b as A,m as J}from"./show3d-B-zkq70T.js";const R={class:"dialog",style:{position:"relative",display:"flex","flex-direction":"row"}},q={class:"td-container",style:{"flex-direction":"column","max-width":"90%","max-height":"90%",width:"500px",height:"500px",position:"relative"}},H={class:"form-container"},K={class:"dialog-footer"},Y=N({__name:"boxstorehouse",setup(L){const u=T(),b=m(!1),p=m(!1),v=m(-1),y=m("新增货物"),l=O({name:"默认模块",lx:1,ly:1,lz:1,mass:1}),$=m([]),V=m([]),w=m([]),g=m([0,0,0]);S(l,(s,e)=>{const{lx:n,ly:i,lz:c,mass:d}=l;b.value=[n,i,c,d].every(r=>typeof r=="number"),b.value&&(w.value=[new A([n,i,c],[0,0,0],0,"#A39480",!1,.5,!1,"center")],g.value=[0,0,0],V.value=[new J([n,i,c],[0,0,0],"#FFFFE0",!1,1,!0,"center")])},{immediate:!0}),u.$subscribe((s,e)=>{localStorage.setItem("Box_list",JSON.stringify(e.Box_list))});const k=s=>{C({message:`货物 ${u.Box_list[s].name}信息删除成功`}),u.Box_list.splice(s,1)},B=s=>{if(v.value=s,s!==-1){y.value="修改货物信息";const e=u.Box_list[s];l.name=e.name,l.lx=e.lx,l.ly=e.ly,l.lz=e.lz,l.mass=e.mass}else y.value="新增货物信息",l.name="默认货物",l.lx=1,l.ly=1,l.lz=1,l.mass=1;p.value=!0},z=()=>{v.value!==-1?(u.Box_list[v.value]={...l},C({message:`货物 ${l.name} 信息修改成功`})):u.add_Box({...l}),p.value=!1};return(s,e)=>{const n=f("el-table-column"),i=f("el-button"),c=f("el-table"),d=f("el-input"),r=f("el-form-item"),F=f("el-form"),U=f("el-dialog");return I(),E(D,null,[o(c,{data:G(u).Box_list,style:{width:"100%"},height:"95%"},{default:a(()=>[o(n,{prop:"name",label:"货物名称",width:"auto"}),o(n,{prop:"lx",label:"长",width:"auto"}),o(n,{prop:"ly",label:"宽",width:"auto"}),o(n,{prop:"lz",label:"高",width:"auto"}),o(n,{prop:"mass",label:"质量",width:"auto"}),o(n,{fixed:"right",label:"操作",width:"auto"},{default:a(t=>[o(i,{type:"primary",class:"fa-regular fa-pen",onClick:h(M=>B(t.$index),["prevent"]),circle:""},null,8,["onClick"]),o(i,{type:"danger",class:"fa-solid fa-trash",onClick:h(M=>k(t.$index),["prevent"]),circle:""},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),o(i,{class:"mt-4",style:{width:"100%"},onClick:e[0]||(e[0]=t=>B(-1))},{default:a(()=>e[8]||(e[8]=[x(" 新增货物 ")])),_:1}),o(U,{modelValue:p.value,"onUpdate:modelValue":e[7]||(e[7]=t=>p.value=t),width:"90%"},{default:a(()=>[_("div",R,[_("div",q,[o(j,{main_containers:$.value,module_containers:V.value,boxes:w.value,centerOfGravity:g.value},null,8,["main_containers","module_containers","boxes","centerOfGravity"])]),_("div",H,[o(F,{model:l},{default:a(()=>[o(r,{label:"货物名称",style:{width:"auto"}},{default:a(()=>[o(d,{modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(r,{label:"长"},{default:a(()=>[o(d,{modelValue:l.lx,"onUpdate:modelValue":e[2]||(e[2]=t=>l.lx=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(r,{label:"宽",style:{width:"80%"}},{default:a(()=>[o(d,{modelValue:l.ly,"onUpdate:modelValue":e[3]||(e[3]=t=>l.ly=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(r,{label:"高",style:{width:"80%"}},{default:a(()=>[o(d,{modelValue:l.lz,"onUpdate:modelValue":e[4]||(e[4]=t=>l.lz=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(r,{label:"质量",style:{width:"80%"}},{default:a(()=>[o(d,{modelValue:l.mass,"onUpdate:modelValue":e[5]||(e[5]=t=>l.mass=t),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),_("div",K,[o(i,{onClick:e[6]||(e[6]=t=>p.value=!1)},{default:a(()=>e[9]||(e[9]=[x("取消")])),_:1}),o(i,{type:"primary",onClick:z},{default:a(()=>e[10]||(e[10]=[x("确定")])),_:1})])])])]),_:1},8,["modelValue"])],64)}}});export{Y as default};
