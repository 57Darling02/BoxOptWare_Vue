import{m as F,E as p,d as S,r as y,f as N,p as U,c as M,b as t,j as a,e as E,F as O,l as f,o as P,q as B,i as w,a as b}from"./index-CJ-_H11i.js";import{_ as I,m as q,b as D,e as J}from"./trs3d.vue_vue_type_style_index_0_lang-c24lAOol.js";const T=F("BoxStore",{actions:{add_Box(i){const m=["name","lx","ly","lz","mass"];for(const x of m)if(!i.hasOwnProperty(x)){p({title:"error",message:`输入对象缺少 ${x} 属性`});return}if(typeof i.name!="string"){p({title:"error",message:"name 属性必须是字符串类型"});return}if(typeof i.lx!="number"||typeof i.ly!="number"||typeof i.lz!="number"||typeof i.mass!="number"){p({title:"error",message:"lx, ly, lz 和 mass 属性必须是数字类型"});return}this.Box_list.push(i),p({message:`货物 ${i.name} 信息添加成功`})}},state(){return{Box_list:JSON.parse(localStorage.getItem("Box_list"))||[{name:"1号货物",lx:20,ly:18,lz:10,mass:1},{name:"2号货物",lx:25,ly:18,lz:20,mass:1},{name:"3号货物",lx:30,ly:25,lz:120,mass:1},{name:"4号货物",lx:36,ly:25,lz:30,mass:1},{name:"5号货物",lx:53,ly:32,lz:30,mass:1},{name:"6号货物",lx:70,ly:32,lz:40,mass:1}]}}}),j={class:"dialog",style:{position:"relative",display:"flex","flex-direction":"row"}},R={class:"td-container",style:{"flex-direction":"column","max-width":"90%","max-height":"90%",width:"500px",height:"500px",position:"relative"}},A={class:"form-container"},G={class:"dialog-footer"},L=S({__name:"boxstorehouse",setup(i){const m=T(),x=y(!1),_=y(!1),g=y(-1),V=y("新增货物"),l=N({name:"默认模块",lx:1,ly:1,lz:1,mass:1});U(l,(s,e)=>{const{lx:n,ly:r,lz:c,mass:u}=s;if(x.value=[n,r,c,u].every(d=>typeof d=="number"),x.value){const d={main_containers:[],module_containers:[new q([n,r,c],[0,0,0],void 0,void 0,void 0,void 0,"center")],boxes:[new D([n,r,c],[0,0,0],u,"#FFFFE0",!0,.5,!1,"center")]};J.emit("update-showParams",d)}},{immediate:!0}),m.$subscribe((s,e)=>{localStorage.setItem("Box_list",JSON.stringify(e.Box_list))});const z=s=>{p({message:`货物 ${m.Box_list[s].name}信息删除成功`}),m.Box_list.splice(s,1)},v=s=>{if(g.value=s,s!==-1){V.value="修改货物信息";const e=m.Box_list[s];l.name=e.name,l.lx=e.lx,l.ly=e.ly,l.lz=e.lz,l.mass=e.mass}else V.value="新增货物信息",l.name="默认货物",l.lx=1,l.ly=1,l.lz=1,l.mass=1;_.value=!0},h=()=>{g.value!==-1?(m.Box_list[g.value]={...l},p({message:`货物 ${l.name} 信息修改成功`})):m.add_Box({...l}),_.value=!1};return(s,e)=>{const n=f("el-table-column"),r=f("el-button"),c=f("el-table"),u=f("el-input"),d=f("el-form-item"),$=f("el-form"),C=f("el-dialog");return P(),M(O,null,[t(c,{data:E(m).Box_list,style:{width:"100%"},height:"95%"},{default:a(()=>[t(n,{prop:"name",label:"货物名称",width:"auto"}),t(n,{prop:"lx",label:"长",width:"auto"}),t(n,{prop:"ly",label:"宽",width:"auto"}),t(n,{prop:"lz",label:"高",width:"auto"}),t(n,{prop:"mass",label:"质量",width:"auto"}),t(n,{fixed:"right",label:"Operations",width:"auto"},{default:a(o=>[t(r,{type:"primary",class:"fa-regular fa-pen",onClick:B(k=>v(o.$index),["prevent"]),circle:""},null,8,["onClick"]),t(r,{type:"danger",class:"fa-solid fa-trash",onClick:B(k=>z(o.$index),["prevent"]),circle:""},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),t(r,{class:"mt-4",style:{width:"100%"},onClick:e[0]||(e[0]=o=>v(-1))},{default:a(()=>e[8]||(e[8]=[w(" 新增货物 ")])),_:1}),t(C,{modelValue:_.value,"onUpdate:modelValue":e[7]||(e[7]=o=>_.value=o),width:"90%"},{default:a(()=>[b("div",j,[b("div",R,[t(I)]),b("div",A,[t($,{model:l},{default:a(()=>[t(d,{label:"货物名称",style:{width:"auto"}},{default:a(()=>[t(u,{modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.name=o),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(d,{label:"长"},{default:a(()=>[t(u,{modelValue:l.lx,"onUpdate:modelValue":e[2]||(e[2]=o=>l.lx=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(d,{label:"宽",style:{width:"80%"}},{default:a(()=>[t(u,{modelValue:l.ly,"onUpdate:modelValue":e[3]||(e[3]=o=>l.ly=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(d,{label:"高",style:{width:"80%"}},{default:a(()=>[t(u,{modelValue:l.lz,"onUpdate:modelValue":e[4]||(e[4]=o=>l.lz=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(d,{label:"质量",style:{width:"80%"}},{default:a(()=>[t(u,{modelValue:l.mass,"onUpdate:modelValue":e[5]||(e[5]=o=>l.mass=o),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),b("div",G,[t(r,{onClick:e[6]||(e[6]=o=>_.value=!1)},{default:a(()=>e[9]||(e[9]=[w("取消")])),_:1}),t(r,{type:"primary",onClick:h},{default:a(()=>e[10]||(e[10]=[w("确定")])),_:1})])])])]),_:1},8,["modelValue"])],64)}}});export{L as default};
